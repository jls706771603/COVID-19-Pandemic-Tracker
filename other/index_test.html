<html>

<head>
    <title>COVID-19 Tracker</title>
    <script type="text/javascript" src="js/function.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css" />
</head>

<body>
    <h1>
        COVID-19 Tracker
    </h1>

    <p>Cases overview</p>

    <p>Local Time: <span id="datetime"></span></p>

    <script>
        var dt = new Date();
        document.getElementById("datetime").innerHTML = (("0" + (dt.getMonth() + 1)).slice(-2)) + "/" + (("0" + dt.getDate()).slice(-2)) + "/" + (dt.getFullYear()) + " " + (("0" + dt.getHours() + 1).slice(-2)) + ":" + (("0" + dt.getMinutes() + 1).slice(-2));
    </script>

    <input type="button" value="Query" onclick="Query();" />

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-analytics.js";
        import { initializeApp } from 'firebase/app';
        import { getDatabase } from "firebase/database";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyBYSwVwuuWe4ZxZpoNuCXWKWfmZXqWh9Lc",
            authDomain: "pandemic-tracker-1b4e2.firebaseapp.com",
            databaseURL: "https://pandemic-tracker-1b4e2-default-rtdb.firebaseio.com",
            projectId: "pandemic-tracker-1b4e2",
            storageBucket: "pandemic-tracker-1b4e2.appspot.com",
            messagingSenderId: "755928698748",
            appId: "1:755928698748:web:293a38e8b188c7b6905ef9",
            measurementId: "G-YPJ3ZTD8HT"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        // Get a reference to the database service
        const database = getDatabase(app);

        var ref = firebase.database().ref(); ref.on("value", function (snapshot) {
            output.innerHTML = JSON.stringify(snapshot.val(), null, 2);
        });
    </script>




    <script>
        import { getDatabase, ref, child, get } from "firebase/database";

        const dbRef = ref(getDatabase());
        get(child(dbRef, `counties/${countyList}`)).then((snapshot) => {
            if (snapshot.exists()) {
                console.log(snapshot.val());
            } else {
                console.log("No data available");
            }
        }).catch((error) => {
            console.error(error);
        });
    </script>


</body>

<div id="example-table"></div>

</html>